:original_name: en-us_topic_0071185672.html

.. _en-us_topic_0071185672:

Configuring a Tracker
=====================

Scenario
--------

You can configure the created management tracker to transfer traces recorded in CTS to OBS or LTS for long-term storage.

You can select whether to send recorded traces to an OBS bucket. You can also transfer the traces of multiple accounts to the same OBS bucket for centralized management.

.. note::

   There are three storage classes of OBS buckets, Standard, Infrequent Access, and Archive. You must use Standard OBS buckets for trace transfer because CTS needs to frequently access the OBS buckets.

After the tracker configuration is complete, CTS will immediately start recording operations under the new settings.

This section describes how to configure the management tracker.

Prerequisites
-------------

You have enabled CTS.

Procedure
---------

#. Log in to the management console.

#. Click |image1| in the upper left corner to select the desired region and project.

#. Click |image2| in the upper left corner and choose **Management & Deployment** > **Cloud Trace Service**. The CTS console is displayed.

#. Choose **Tracker List** in the left navigation pane.

#. Click **Configure** in the **Operation** column in the row of the management tracker.

#. On the **Configure Transfer** page, modify the transfer configurations of the tracker. For details, see :ref:`Table 1 <en-us_topic_0071185672__en-us_topic_0000001638190546_table74421624832>`.

   .. _en-us_topic_0071185672__en-us_topic_0000001638190546_table74421624832:

   .. table:: **Table 1** Transfer parameters

      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                                                                                                                                                                                                     |
      +===================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================+
      | Transfer to OBS                   | Select an existing OBS bucket or create one on this page and set **File Prefix**.                                                                                                                                                                                                                                                                                                                                                               |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | OBS Bucket                        | **Create**: If this function is enabled, an OBS bucket will be created automatically with the name you enter.                                                                                                                                                                                                                                                                                                                                   |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
      |                                   | **Select**: Select an existing OBS bucket.                                                                                                                                                                                                                                                                                                                                                                                                      |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Select Bucket                     | If you select **Create** for **OBS Bucket**, enter an OBS bucket name. The OBS bucket name cannot be empty. It can contain 3 to 63 characters, including only lowercase letters, digits, hyphens (-), and periods (.). It cannot contain two consecutive periods (for example, my..bucket). A period (.) and a hyphen (-) cannot be adjacent to each other (for example, my-.bucket and my.-bucket). Do not use an IP address as a bucket name. |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
      |                                   | If you select **Select** for **OBS Bucket**, select an existing OBS bucket.                                                                                                                                                                                                                                                                                                                                                                     |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Retention Period                  | For the management tracker, the retention period configured on the OBS console is used by default and cannot be changed.                                                                                                                                                                                                                                                                                                                        |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | File Prefix                       | A prefix is used to mark a transferred trace file. Your specified prefix will be automatically added to the beginning of the name of a transferred file, helping you quickly filter files. Enter 0 to 64 characters. Only letters, digits, hyphens (-), underscores (_), and periods (.) are allowed.                                                                                                                                           |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Compression                       | The usage of object storage space can be reduced.                                                                                                                                                                                                                                                                                                                                                                                               |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
      |                                   | -  **Do not compress**: Transfer files in the \*.json format.                                                                                                                                                                                                                                                                                                                                                                                   |
      |                                   | -  **gzip**: Transfer files in \*.json.gz format.                                                                                                                                                                                                                                                                                                                                                                                               |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Sort by Cloud Service             | -  When this function is enabled, the cloud service name is added to the transfer file path, and multiple small files are generated in OBS.                                                                                                                                                                                                                                                                                                     |
      |                                   | -  When this function is disabled, the cloud service name will not be added to the transfer file path.                                                                                                                                                                                                                                                                                                                                          |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Transfer Path                     | Log transfer path is automatically set by the system.                                                                                                                                                                                                                                                                                                                                                                                           |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Verify Trace File                 | When this function is enabled, integrity verification will be performed to check whether trace files in OBS buckets have been tampered with. For details about file integrity verification, see :ref:`Verifying Trace File Integrity <cts_03_0012>`.                                                                                                                                                                                            |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Transfer to LTS                   | When **Transfer to LTS** is enabled, traces are transferred to the log stream.                                                                                                                                                                                                                                                                                                                                                                  |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Log Group                         | When **Transfer to LTS** is enabled, the default log group name **CTS** is set. When **Transfer to LTS** is disabled, no operation is required.                                                                                                                                                                                                                                                                                                 |
      +-----------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

#. Click **Next** > **Configure** to complete the configuration of the tracker.

   You can then view the tracker details on the **Tracker List** page.

   .. note::

      Traces recorded by CTS are delivered periodically to the OBS bucket for storage. If you configure an OBS bucket for a tracker, traces generated during the current cycle (usually several minutes) will be delivered to the configured OBS bucket. For example, if the current cycle is from 12:00:00 to 12:05:00 and you configure an OBS bucket for a tracker at 12:02:00, traces received from 12:00:00 to 12:02:00 will also be delivered to the configured OBS bucket for storage at 12:05:00.

.. |image1| image:: /_static/images/en-us_image_0000002378673973.png
.. |image2| image:: /_static/images/en-us_image_0000002344716040.png
